"use strict";(self.webpackChunkfitify_final=self.webpackChunkfitify_final||[]).push([[311],{10311:function(e,t,i){i.d(t,{fH:function(){return Ze}});var n=i(72791),r=i(47825),a=i(46736),o=i(79772),s=i(63126),l=i(51153),u=Math.PI,h=2*u,c=1e-6,f=h-c;function d(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new d}d.prototype=v.prototype={constructor:d,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,i,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+n)},bezierCurveTo:function(e,t,i,n,r,a){this._+="C"+ +e+","+ +t+","+ +i+","+ +n+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(e,t,i,n,r){e=+e,t=+t,i=+i,n=+n,r=+r;var a=this._x1,o=this._y1,s=i-e,l=n-t,h=a-e,f=o-t,d=h*h+f*f;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>c)if(Math.abs(f*s-l*h)>c&&r){var v=i-a,y=n-o,g=s*s+l*l,p=v*v+y*y,x=Math.sqrt(g),m=Math.sqrt(d),b=r*Math.tan((u-Math.acos((g+d-p)/(2*x*m)))/2),_=b/m,k=b/x;Math.abs(_-1)>c&&(this._+="L"+(e+_*h)+","+(t+_*f)),this._+="A"+r+","+r+",0,0,"+ +(f*v>h*y)+","+(this._x1=e+k*s)+","+(this._y1=t+k*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,i,n,r,a){e=+e,t=+t,a=!!a;var o=(i=+i)*Math.cos(n),s=i*Math.sin(n),l=e+o,d=t+s,v=1^a,y=a?n-r:r-n;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+l+","+d:(Math.abs(this._x1-l)>c||Math.abs(this._y1-d)>c)&&(this._+="L"+l+","+d),i&&(y<0&&(y=y%h+h),y>f?this._+="A"+i+","+i+",0,1,"+v+","+(e-o)+","+(t-s)+"A"+i+","+i+",0,1,"+v+","+(this._x1=l)+","+(this._y1=d):y>c&&(this._+="A"+i+","+i+",0,"+ +(y>=u)+","+v+","+(this._x1=e+i*Math.cos(r))+","+(this._y1=t+i*Math.sin(r))))},rect:function(e,t,i,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +i+"v"+ +n+"h"+-i+"Z"},toString:function(){return this._}};var y=v,g=i(76817),p=i(38146);function x(e){return e[0]}function m(e){return e[1]}function b(){var e=x,t=m,i=(0,g.Z)(!0),n=null,r=p.Z,a=null;function o(o){var s,l,u,h=o.length,c=!1;for(null==n&&(a=r(u=y())),s=0;s<=h;++s)!(s<h&&i(l=o[s],s,o))===c&&((c=!c)?a.lineStart():a.lineEnd()),c&&a.point(+e(l,s,o),+t(l,s,o));if(u)return a=null,u+""||null}return o.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,g.Z)(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,g.Z)(+e),o):t},o.defined=function(e){return arguments.length?(i="function"===typeof e?e:(0,g.Z)(!!e),o):i},o.curve=function(e){return arguments.length?(r=e,null!=n&&(a=r(n)),o):r},o.context=function(e){return arguments.length?(null==e?n=a=null:a=r(n=e),o):n},o}var _=i(23190),k=i(52007),M=i.n(k),w=i(80184),R=i(36588),S=i(37762),q=i(74165),C=i(15671),T=i(43144),O=Math.pow(2,-52),j=new Uint32Array(512),B=function(){function e(t){(0,C.Z)(this,e);var i=t.length>>1;if(i>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var n=Math.max(2*i-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}return(0,T.Z)(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,i=this._hullNext,n=this._hullTri,r=this._hullHash,a=e.length>>1,o=1/0,s=1/0,l=-1/0,u=-1/0,h=0;h<a;h++){var c=e[2*h],f=e[2*h+1];c<o&&(o=c),f<s&&(s=f),c>l&&(l=c),f>u&&(u=f),this._ids[h]=h}for(var d,v,y,g=(o+l)/2,p=(s+u)/2,x=1/0,m=0;m<a;m++){var b=P(g,p,e[2*m],e[2*m+1]);b<x&&(d=m,x=b)}var _=e[2*d],k=e[2*d+1];x=1/0;for(var M=0;M<a;M++)if(M!==d){var w=P(_,k,e[2*M],e[2*M+1]);w<x&&w>0&&(v=M,x=w)}for(var R=e[2*v],S=e[2*v+1],q=1/0,C=0;C<a;C++)if(C!==d&&C!==v){var T=E(_,k,R,S,e[2*C],e[2*C+1]);T<q&&(y=C,q=T)}var j=e[2*y],B=e[2*y+1];if(q===1/0){for(var L=0;L<a;L++)this._dists[L]=e[2*L]-e[0]||e[2*L+1]-e[1];F(this._ids,this._dists,0,a-1);for(var A=new Uint32Array(a),W=0,G=0,V=-1/0;G<a;G++){var I=this._ids[G];this._dists[I]>V&&(A[W++]=I,V=this._dists[I])}return this.hull=A.subarray(0,W),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Z(_,k,R,S,j,B)){var z=v,Y=R,D=S;v=y,R=j,S=B,y=z,j=Y,B=D}var H=function(e,t,i,n,r,a){var o=i-e,s=n-t,l=r-e,u=a-t,h=o*o+s*s,c=l*l+u*u,f=.5/(o*u-s*l),d=e+(u*h-s*c)*f,v=t+(o*c-l*h)*f;return{x:d,y:v}}(_,k,R,S,j,B);this._cx=H.x,this._cy=H.y;for(var U=0;U<a;U++)this._dists[U]=P(e[2*U],e[2*U+1],H.x,H.y);F(this._ids,this._dists,0,a-1),this._hullStart=d;var X=3;i[d]=t[y]=v,i[v]=t[d]=y,i[y]=t[v]=d,n[d]=0,n[v]=1,n[y]=2,r.fill(-1),r[this._hashKey(_,k)]=d,r[this._hashKey(R,S)]=v,r[this._hashKey(j,B)]=y,this.trianglesLen=0,this._addTriangle(d,v,y,-1,-1,-1);for(var K,N,Q=0;Q<this._ids.length;Q++){var $=this._ids[Q],J=e[2*$],ee=e[2*$+1];if(!(Q>0&&Math.abs(J-K)<=O&&Math.abs(ee-N)<=O)&&(K=J,N=ee,$!==d&&$!==v&&$!==y)){for(var te=0,ie=0,ne=this._hashKey(J,ee);ie<this._hashSize&&(-1===(te=r[(ne+ie)%this._hashSize])||te===i[te]);ie++);for(var re=te=t[te],ae=void 0;ae=i[re],!Z(J,ee,e[2*re],e[2*re+1],e[2*ae],e[2*ae+1]);)if((re=ae)===te){re=-1;break}if(-1!==re){var oe=this._addTriangle(re,$,i[re],-1,-1,n[re]);n[$]=this._legalize(oe+2),n[re]=oe,X++;for(var se=i[re];ae=i[se],Z(J,ee,e[2*se],e[2*se+1],e[2*ae],e[2*ae+1]);)oe=this._addTriangle(se,$,ae,n[$],-1,n[se]),n[$]=this._legalize(oe+2),i[se]=se,X--,se=ae;if(re===te)for(;Z(J,ee,e[2*(ae=t[re])],e[2*ae+1],e[2*re],e[2*re+1]);)oe=this._addTriangle(ae,$,re,-1,n[re],n[ae]),this._legalize(oe+2),n[ae]=oe,i[re]=re,X--,re=ae;this._hullStart=t[$]=re,i[re]=t[se]=$,i[$]=se,r[this._hashKey(J,ee)]=$,r[this._hashKey(e[2*re],e[2*re+1])]=re}}}this.hull=new Uint32Array(X);for(var le=0,ue=this._hullStart;le<X;le++)this.hull[le]=ue,ue=i[ue];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var i=e/(Math.abs(e)+Math.abs(t));return(t>0?3-i:1+i)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,i=this._halfedges,n=this.coords,r=0,a=0;;){var o=i[e],s=e-e%3;if(a=s+(e+2)%3,-1!==o){var l=o-o%3,u=s+(e+1)%3,h=l+(o+2)%3,c=t[a],f=t[e],d=t[u],v=t[h];if(A(n[2*c],n[2*c+1],n[2*f],n[2*f+1],n[2*d],n[2*d+1],n[2*v],n[2*v+1])){t[e]=v,t[o]=c;var y=i[h];if(-1===y){var g=this._hullStart;do{if(this._hullTri[g]===h){this._hullTri[g]=e;break}g=this._hullPrev[g]}while(g!==this._hullStart)}this._link(e,y),this._link(o,i[a]),this._link(a,h);var p=l+(o+1)%3;r<j.length&&(j[r++]=p)}else{if(0===r)break;e=j[--r]}}else{if(0===r)break;e=j[--r]}}return a}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,i,n,r,a){var o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=i,this._link(o,n),this._link(o+1,r),this._link(o+2,a),this.trianglesLen+=3,o}}],[{key:"from",value:function(t){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V,r=t.length,a=new Float64Array(2*r),o=0;o<r;o++){var s=t[o];a[2*o]=i(s),a[2*o+1]=n(s)}return new e(a)}}]),e}();function P(e,t,i,n){var r=e-i,a=t-n;return r*r+a*a}function L(e,t,i,n,r,a){var o=(n-t)*(r-e),s=(i-e)*(a-t);return Math.abs(o-s)>=33306690738754716e-32*Math.abs(o+s)?o-s:0}function Z(e,t,i,n,r,a){return(L(r,a,e,t,i,n)||L(e,t,i,n,r,a)||L(i,n,r,a,e,t))<0}function A(e,t,i,n,r,a,o,s){var l=e-o,u=t-s,h=i-o,c=n-s,f=r-o,d=a-s,v=h*h+c*c,y=f*f+d*d;return l*(c*y-v*d)-u*(h*y-v*f)+(l*l+u*u)*(h*d-c*f)<0}function E(e,t,i,n,r,a){var o=i-e,s=n-t,l=r-e,u=a-t,h=o*o+s*s,c=l*l+u*u,f=.5/(o*u-s*l),d=(u*h-s*c)*f,v=(o*c-l*h)*f;return d*d+v*v}function F(e,t,i,n){if(n-i<=20)for(var r=i+1;r<=n;r++){for(var a=e[r],o=t[a],s=r-1;s>=i&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=a}else{var l=i+1,u=n;W(e,i+n>>1,l),t[e[i]]>t[e[n]]&&W(e,i,n),t[e[l]]>t[e[n]]&&W(e,l,n),t[e[i]]>t[e[l]]&&W(e,i,l);for(var h=e[l],c=t[h];;){do{l++}while(t[e[l]]<c);do{u--}while(t[e[u]]>c);if(u<l)break;W(e,l,u)}e[i+1]=e[u],e[u]=h,n-l+1>=u-i?(F(e,t,l,n),F(e,t,i,u-1)):(F(e,t,i,u-1),F(e,t,l,n))}}function W(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function G(e){return e[0]}function V(e){return e[1]}var I=1e-6,z=function(){function e(){(0,C.Z)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return(0,T.Z)(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,i){var n=(e=+e)+(i=+i),r=t=+t;if(i<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(n,",").concat(r):(Math.abs(this._x1-n)>I||Math.abs(this._y1-r)>I)&&(this._+="L"+n+","+r),i&&(this._+="A".concat(i,",").concat(i,",0,1,1,").concat(e-i,",").concat(t,"A").concat(i,",").concat(i,",0,1,1,").concat(this._x1=n,",").concat(this._y1=r))}},{key:"rect",value:function(e,t,i,n){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+i,"v").concat(+n,"h").concat(-i,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),Y=function(){function e(){(0,C.Z)(this,e),this._=[]}return(0,T.Z)(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),D=i(29439),H=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],n=(0,D.Z)(i,4),r=n[0],a=n[1],o=n[2],s=n[3];if((0,C.Z)(this,e),!((o=+o)>=(r=+r))||!((s=+s)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=r,this.ymax=s,this.ymin=a,this._init()}return(0,T.Z)(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,i=this.delaunay,n=i.points,r=i.hull,a=i.triangles,o=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2),l=0,u=0,h=a.length;l<h;l+=3,u+=2){var c=2*a[l],f=2*a[l+1],d=2*a[l+2],v=n[c],y=n[c+1],g=n[f],p=n[f+1],x=n[d],m=n[d+1],b=g-v,_=p-y,k=x-v,M=m-y,w=b*b+_*_,R=k*k+M*M,S=2*(b*M-_*k);if(S)if(Math.abs(S)<1e-8)e=(v+x)/2,t=(y+m)/2;else{var q=1/S;e=v+(M*w-_*R)*q,t=y+(b*R-k*w)*q}else e=(v+x)/2-1e8*M,t=(y+m)/2+1e8*k;s[u]=e,s[u+1]=t}var C,T,O,j=r[r.length-1],B=4*j,P=n[2*j],L=n[2*j+1];o.fill(0);for(var Z=0;Z<r.length;++Z)C=B,T=P,O=L,B=4*(j=r[Z]),P=n[2*j],L=n[2*j+1],o[C+2]=o[B]=O-L,o[C+3]=o[B+1]=P-T}},{key:"render",value:function(e){var t=null==e?e=new z:void 0,i=this.delaunay,n=i.halfedges,r=i.inedges,a=i.hull,o=this.circumcenters,s=this.vectors;if(a.length<=1)return null;for(var l=0,u=n.length;l<u;++l){var h=n[l];if(!(h<l)){var c=2*Math.floor(l/3),f=2*Math.floor(h/3),d=o[c],v=o[c+1],y=o[f],g=o[f+1];this._renderSegment(d,v,y,g,e)}}for(var p,x=a[a.length-1],m=0;m<a.length;++m){p=x,x=a[m];var b=2*Math.floor(r[x]/3),_=o[b],k=o[b+1],M=4*p,w=this._project(_,k,s[M+2],s[M+3]);w&&this._renderSegment(_,k,w[0],w[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new z:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var i=null==t?t=new z:void 0,n=this._clip(e);if(null!==n&&n.length){t.moveTo(n[0],n[1]);for(var r=n.length;n[0]===n[r-2]&&n[1]===n[r-1]&&r>1;)r-=2;for(var a=2;a<r;a+=2)n[a]===n[a-2]&&n[a+1]===n[a-1]||t.lineTo(n[a],n[a+1]);return t.closePath(),i&&i.value()}}},{key:"cellPolygons",value:(0,q.Z)().mark((function e(){var t,i,n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,i=0,n=t.length/2;case 2:if(!(i<n)){e.next=11;break}if(!(r=this.cellPolygon(i))){e.next=8;break}return r.index=i,e.next=8,r;case 8:++i,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new Y;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,i,n,r){var a,o=this._regioncode(e,t),s=this._regioncode(i,n);0===o&&0===s?(r.moveTo(e,t),r.lineTo(i,n)):(a=this._clipSegment(e,t,i,n,o,s))&&(r.moveTo(a[0],a[1]),r.lineTo(a[2],a[3]))}},{key:"contains",value:function(e,t,i){return(t=+t)===t&&(i=+i)===i&&this.delaunay._step(e,t,i)===e}},{key:"neighbors",value:(0,q.Z)().mark((function e(t){var i,n,r,a,o,s,l,u,h;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=this._clip(t))){e.next=33;break}n=(0,S.Z)(this.delaunay.neighbors(t)),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=25;break}if(a=r.value,!(o=this._clip(a))){e.next=23;break}s=0,l=i.length;case 10:if(!(s<l)){e.next=23;break}u=0,h=o.length;case 12:if(!(u<h)){e.next=20;break}if(i[s]!=o[u]||i[s+1]!=o[u+1]||i[(s+2)%l]!=o[(u+h-2)%h]||i[(s+3)%l]!=o[(u+h-1)%h]){e.next=17;break}return e.next=16,a;case 16:return e.abrupt("break",23);case 17:u+=2,e.next=12;break;case 20:s+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),n.e(e.t0);case 30:return e.prev=30,n.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,i=this.delaunay,n=i.inedges,r=i.halfedges,a=i.triangles,o=n[e];if(-1===o)return null;var s=[],l=o;do{var u=Math.floor(l/3);if(s.push(t[2*u],t[2*u+1]),a[l=l%3===2?l-2:l+1]!==e)break;l=r[l]}while(l!==o&&-1!==l);return s}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var i=this.vectors,n=4*e;return i[n]||i[n+1]?this._clipInfinite(e,t,i[n],i[n+1],i[n+2],i[n+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var i,n,r,a,o,s=t.length,l=null,u=t[s-2],h=t[s-1],c=this._regioncode(u,h),f=0;f<s;f+=2)if(i=u,n=h,u=t[f],h=t[f+1],r=c,c=this._regioncode(u,h),0===r&&0===c)a=o,o=0,l?l.push(u,h):l=[u,h];else{var d=void 0,v=void 0,y=void 0,g=void 0,p=void 0;if(0===r){if(null===(d=this._clipSegment(i,n,u,h,r,c)))continue;var x=d,m=(0,D.Z)(x,4);v=m[0],y=m[1],g=m[2],p=m[3]}else{if(null===(d=this._clipSegment(u,h,i,n,c,r)))continue;var b=d,_=(0,D.Z)(b,4);g=_[0],p=_[1],v=_[2],y=_[3],a=o,o=this._edgecode(v,y),a&&o&&this._edge(e,a,o,l,l.length),l?l.push(v,y):l=[v,y]}a=o,o=this._edgecode(g,p),a&&o&&this._edge(e,a,o,l,l.length),l?l.push(g,p):l=[g,p]}if(l)a=o,o=this._edgecode(l[0],l[1]),a&&o&&this._edge(e,a,o,l,l.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}},{key:"_clipSegment",value:function(e,t,i,n,r,a){for(;;){if(0===r&&0===a)return[e,t,i,n];if(r&a)return null;var o=void 0,s=void 0,l=r||a;8&l?(o=e+(i-e)*(this.ymax-t)/(n-t),s=this.ymax):4&l?(o=e+(i-e)*(this.ymin-t)/(n-t),s=this.ymin):2&l?(s=t+(n-t)*(this.xmax-e)/(i-e),o=this.xmax):(s=t+(n-t)*(this.xmin-e)/(i-e),o=this.xmin),r?(e=o,t=s,r=this._regioncode(e,t)):(i=o,n=s,a=this._regioncode(i,n))}}},{key:"_clipInfinite",value:function(e,t,i,n,r,a){var o,s=Array.from(t);if((o=this._project(s[0],s[1],i,n))&&s.unshift(o[0],o[1]),(o=this._project(s[s.length-2],s[s.length-1],r,a))&&s.push(o[0],o[1]),s=this._clipFinite(e,s))for(var l,u=0,h=s.length,c=this._edgecode(s[h-2],s[h-1]);u<h;u+=2)l=c,c=this._edgecode(s[u],s[u+1]),l&&c&&(u=this._edge(e,l,c,s,u),h=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(e,t,i,n,r){for(;t!==i;){var a=void 0,o=void 0;switch(t){case 5:t=4;continue;case 4:t=6,a=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,a=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,a=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,a=this.xmin,o=this.ymin}n[r]===a&&n[r+1]===o||!this.contains(e,a,o)||(n.splice(r,0,a,o),r+=2)}if(n.length>4)for(var s=0;s<n.length;s+=2){var l=(s+2)%n.length,u=(s+4)%n.length;(n[s]===n[l]&&n[l]===n[u]||n[s+1]===n[l+1]&&n[l+1]===n[u+1])&&(n.splice(l,2),s-=2)}return r}},{key:"_project",value:function(e,t,i,n){var r,a,o,s=1/0;if(n<0){if(t<=this.ymin)return null;(r=(this.ymin-t)/n)<s&&(o=this.ymin,a=e+(s=r)*i)}else if(n>0){if(t>=this.ymax)return null;(r=(this.ymax-t)/n)<s&&(o=this.ymax,a=e+(s=r)*i)}if(i>0){if(e>=this.xmax)return null;(r=(this.xmax-e)/i)<s&&(a=this.xmax,o=t+(s=r)*n)}else if(i<0){if(e<=this.xmin)return null;(r=(this.xmin-e)/i)<s&&(a=this.xmin,o=t+(s=r)*n)}return[a,o]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),U=(0,q.Z)().mark(ee),X=2*Math.PI,K=Math.pow;function N(e){return e[0]}function Q(e){return e[1]}function $(e,t,i){return[e+Math.sin(e+t)*i,t+Math.cos(e-t)*i]}var J=function(){function e(t){(0,C.Z)(this,e),this._delaunator=new B(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return(0,T.Z)(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,i=e.coords,n=0;n<t.length;n+=3){var r=2*t[n],a=2*t[n+1],o=2*t[n+2];if((i[o]-i[r])*(i[a+1]-i[r+1])-(i[a]-i[r])*(i[o+1]-i[r+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,i){return t[2*e]-t[2*i]||t[2*e+1]-t[2*i+1]}));for(var i=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*i],t[2*i+1],t[2*n],t[2*n+1]],a=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]),o=0,s=t.length/2;o<s;++o){var l=$(t[2*o],t[2*o+1],a);t[2*o]=l[0],t[2*o+1]=l[1]}this._delaunator=new B(t)}else delete this.collinear;for(var u=this.halfedges=this._delaunator.halfedges,h=this.hull=this._delaunator.hull,c=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),d=this._hullIndex.fill(-1),v=0,y=u.length;v<y;++v){var g=c[v%3===2?v-2:v+1];-1!==u[v]&&-1!==f[g]||(f[g]=v)}for(var p=0,x=h.length;p<x;++p)d[h[p]]=p;h.length<=2&&h.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=h[0],this.triangles[1]=h[1],this.triangles[2]=h[1],f[h[0]]=1,2===h.length&&(f[h[1]]=0))}},{key:"voronoi",value:function(e){return new H(this,e)}},{key:"neighbors",value:(0,q.Z)().mark((function e(t){var i,n,r,a,o,s,l,u,h,c,f;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.inedges,n=this.hull,r=this._hullIndex,a=this.halfedges,o=this.triangles,!(s=this.collinear)){e.next=10;break}if(!((l=s.indexOf(t))>0)){e.next=6;break}return e.next=6,s[l-1];case 6:if(!(l<s.length-1)){e.next=9;break}return e.next=9,s[l+1];case 9:return e.abrupt("return");case 10:if(-1!==(u=i[t])){e.next=13;break}return e.abrupt("return");case 13:h=u,c=-1;case 14:return e.next=16,c=o[h];case 16:if(o[h=h%3===2?h-2:h+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(h=a[h])){e.next=26;break}if((f=n[(r[t]+1)%n.length])===c){e.next=25;break}return e.next=25,f;case 25:return e.abrupt("return");case 26:if(h!==u){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var n,r=i;(n=this._step(i,e,t))>=0&&n!==i&&n!==r;)i=n;return n}},{key:"_step",value:function(e,t,i){var n=this.inedges,r=this.hull,a=this._hullIndex,o=this.halfedges,s=this.triangles,l=this.points;if(-1===n[e]||!l.length)return(e+1)%(l.length>>1);var u=e,h=K(t-l[2*e],2)+K(i-l[2*e+1],2),c=n[e],f=c;do{var d=s[f],v=K(t-l[2*d],2)+K(i-l[2*d+1],2);if(v<h&&(h=v,u=d),s[f=f%3===2?f-2:f+1]!==e)break;if(-1===(f=o[f])){if((f=r[(a[e]+1)%r.length])!==d&&K(t-l[2*f],2)+K(i-l[2*f+1],2)<h)return f;break}}while(f!==c);return u}},{key:"render",value:function(e){for(var t=null==e?e=new z:void 0,i=this.points,n=this.halfedges,r=this.triangles,a=0,o=n.length;a<o;++a){var s=n[a];if(!(s<a)){var l=2*r[a],u=2*r[s];e.moveTo(i[l],i[l+1]),e.lineTo(i[u],i[u+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=null==e?e=new z:void 0,n=this.points,r=0,a=n.length;r<a;r+=2){var o=n[r],s=n[r+1];e.moveTo(o+t,s),e.arc(o,s,t,0,X)}return i&&i.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new z:void 0,i=this.hull,n=this.points,r=2*i[0],a=i.length;e.moveTo(n[r],n[r+1]);for(var o=1;o<a;++o){var s=2*i[o];e.lineTo(n[s],n[s+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new Y;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var i=null==t?t=new z:void 0,n=this.points,r=this.triangles,a=2*r[e*=3],o=2*r[e+1],s=2*r[e+2];return t.moveTo(n[a],n[a+1]),t.lineTo(n[o],n[o+1]),t.lineTo(n[s],n[s+1]),t.closePath(),i&&i.value()}},{key:"trianglePolygons",value:(0,q.Z)().mark((function e(){var t,i,n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,i=0,n=t.length/3;case 2:if(!(i<n)){e.next=8;break}return e.next=5,this.trianglePolygon(i);case 5:++i,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new Y;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q,r=arguments.length>3?arguments[3]:void 0;return new e("length"in t?function(e,t,i,n){for(var r=e.length,a=new Float64Array(2*r),o=0;o<r;++o){var s=e[o];a[2*o]=t.call(n,s,o,e),a[2*o+1]=i.call(n,s,o,e)}return a}(t,i,n,r):Float64Array.from(ee(t,i,n,r)))}}]),e}();function ee(e,t,i,n){var r,a,o,s;return(0,q.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:r=0,a=(0,S.Z)(e),l.prev=2,a.s();case 4:if((o=a.n()).done){l.next=13;break}return s=o.value,l.next=8,t.call(n,s,r,e);case 8:return l.next=10,i.call(n,s,r,e);case 10:++r;case 11:l.next=4;break;case 13:l.next=18;break;case 15:l.prev=15,l.t0=l.catch(2),a.e(l.t0);case 18:return l.prev=18,a.f(),l.finish(18);case 21:case"end":return l.stop()}}),U,null,[[2,15,18,21]])}var te=function(e){return"function"==typeof e?e:function(t){return t[e]}},ie=function(e){var t=e.points,i=e.x,r=e.y,a=e.width,o=e.height,s=e.debug,l=(0,n.useMemo)((function(){return function(e){var t=e.points,i=e.x,n=void 0===i?"x":i,r=e.y,a=void 0===r?"y":r,o=te(n),s=te(a);return t.map((function(e){return[o(e),s(e)]}))}({points:t,x:i,y:r})}),[t,i,r]);return(0,n.useMemo)((function(){return function(e){var t=e.points,i=e.width,n=e.height,r=e.debug,a=J.from(t),o=r?a.voronoi([0,0,i,n]):void 0;return{delaunay:a,voronoi:o}}({points:l,width:a,height:o,debug:s})}),[l,a,o,s])},ne=function(e){var t=e.nodes,i=e.width,a=e.height,o=e.x,s=e.y,l=e.onMouseEnter,u=e.onMouseMove,h=e.onMouseLeave,c=e.onClick,f=e.debug,d=(0,n.useRef)(null),v=(0,n.useState)(null),y=v[0],g=v[1],p=ie({points:t,x:o,y:s,width:i,height:a,debug:f}),x=p.delaunay,m=p.voronoi,b=(0,n.useMemo)((function(){if(f&&m)return m.render()}),[f,m]),_=(0,n.useCallback)((function(e){if(!d.current)return[null,null];var i=(0,r.P6)(d.current,e),n=i[0],a=i[1],o=x.find(n,a);return[o,void 0!==o?t[o]:null]}),[d,x]),k=(0,n.useCallback)((function(e){var t=_(e),i=t[0],n=t[1];g(i),n&&(null==l||l(n,e))}),[_,g,l]),M=(0,n.useCallback)((function(e){var t=_(e),i=t[0],n=t[1];g(i),n&&(null==u||u(n,e))}),[_,g,u]),R=(0,n.useCallback)((function(e){if(g(null),h){var i=void 0;null!==y&&(i=t[y]),i&&h(i,e)}}),[g,y,h,t]),S=(0,n.useCallback)((function(e){var t=_(e),i=t[0],n=t[1];g(i),n&&(null==c||c(n,e))}),[_,g,c]);return(0,w.jsxs)("g",{ref:d,children:[f&&m&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("path",{d:b,stroke:"red",strokeWidth:1,opacity:.75}),null!==y&&(0,w.jsx)("path",{fill:"pink",opacity:.35,d:m.renderCell(y)})]}),(0,w.jsx)("rect",{width:i,height:a,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:k,onMouseMove:M,onMouseLeave:R,onClick:S})]})};function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},re.apply(this,arguments)}var ae=function(e){var t=e.point;return(0,w.jsx)(l._5,{id:(0,w.jsxs)("span",{children:["x: ",(0,w.jsx)("strong",{children:t.data.xFormatted}),", y:"," ",(0,w.jsx)("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};ae.propTypes={point:M().object.isRequired};var oe=(0,n.memo)(ae),se=function(e){var t=e.slice,i=e.axis,n=(0,r.Fg)(),a="x"===i?"y":"x";return(0,w.jsx)(l.zI,{rows:t.points.map((function(e){return[(0,w.jsx)(l.Af,{color:e.serieColor,style:n.tooltip.chip},"chip"),e.serieId,(0,w.jsx)("span",{style:n.tooltip.tableCellValue,children:e.data[a+"Formatted"]},"value")]}))})};se.propTypes={slice:M().object.isRequired,axis:M().oneOf(["x","y"]).isRequired};var le=(0,n.memo)(se),ue={data:M().arrayOf(M().shape({id:M().oneOfType([M().string,M().number]).isRequired,data:M().arrayOf(M().shape({x:M().oneOfType([M().number,M().string,M().instanceOf(Date)]),y:M().oneOfType([M().number,M().string,M().instanceOf(Date)])})).isRequired})).isRequired,xScale:M().object.isRequired,xFormat:M().oneOfType([M().func,M().string]),yScale:M().object.isRequired,yFormat:M().oneOfType([M().func,M().string]),layers:M().arrayOf(M().oneOfType([M().oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),M().func])).isRequired,curve:r.VZ.isRequired,axisTop:o.VT,axisRight:o.VT,axisBottom:o.VT,axisLeft:o.VT,enableGridX:M().bool.isRequired,enableGridY:M().bool.isRequired,gridXValues:M().oneOfType([M().number,M().arrayOf(M().oneOfType([M().number,M().string,M().instanceOf(Date)]))]),gridYValues:M().oneOfType([M().number,M().arrayOf(M().oneOfType([M().number,M().string,M().instanceOf(Date)]))]),enablePoints:M().bool.isRequired,pointSymbol:M().func,pointSize:M().number.isRequired,pointColor:M().any.isRequired,pointBorderWidth:M().number.isRequired,pointBorderColor:M().any.isRequired,enablePointLabel:M().bool.isRequired,pointLabel:M().oneOfType([M().string,M().func]).isRequired,markers:M().arrayOf(M().shape({axis:M().oneOf(["x","y"]).isRequired,value:M().oneOfType([M().number,M().string,M().instanceOf(Date)]).isRequired,style:M().object})),colors:a.qi.isRequired,enableArea:M().bool.isRequired,areaOpacity:M().number.isRequired,areaBlendMode:r.wM.isRequired,areaBaselineValue:M().oneOfType([M().number,M().string,M().instanceOf(Date)]).isRequired,lineWidth:M().number.isRequired,legends:M().arrayOf(M().shape(s.iQ)).isRequired,isInteractive:M().bool.isRequired,debugMesh:M().bool.isRequired,tooltip:M().oneOfType([M().func,M().object]).isRequired,enableSlices:M().oneOf(["x","y",!1]).isRequired,debugSlices:M().bool.isRequired,sliceTooltip:M().oneOfType([M().func,M().object]).isRequired,enableCrosshair:M().bool.isRequired,crosshairType:M().string.isRequired},he=re({},ue,{enablePointLabel:M().bool.isRequired,role:M().string.isRequired,useMesh:M().bool.isRequired},r.w$,r._U),ce=re({pixelRatio:M().number.isRequired},ue),fe={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:oe,enableSlices:!1,debugSlices:!1,sliceTooltip:le,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},de=re({},fe,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),ve=re({},fe,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),ye=function(e){var t=e.curve;return(0,n.useMemo)((function(){return b().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve((0,r.Bg)(t))}),[t])},ge=function(e){var t=e.curve,i=e.yScale,a=e.areaBaselineValue;return(0,n.useMemo)((function(){return function(){var e=x,t=null,i=(0,g.Z)(0),n=m,r=(0,g.Z)(!0),a=null,o=p.Z,s=null;function l(l){var u,h,c,f,d,v=l.length,g=!1,p=new Array(v),x=new Array(v);for(null==a&&(s=o(d=y())),u=0;u<=v;++u){if(!(u<v&&r(f=l[u],u,l))===g)if(g=!g)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),c=u-1;c>=h;--c)s.point(p[c],x[c]);s.lineEnd(),s.areaEnd()}g&&(p[u]=+e(f,u,l),x[u]=+i(f,u,l),s.point(t?+t(f,u,l):p[u],n?+n(f,u,l):x[u]))}if(d)return s=null,d+""||null}function u(){return b().defined(r).curve(o).context(a)}return l.x=function(i){return arguments.length?(e="function"===typeof i?i:(0,g.Z)(+i),t=null,l):e},l.x0=function(t){return arguments.length?(e="function"===typeof t?t:(0,g.Z)(+t),l):e},l.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:(0,g.Z)(+e),l):t},l.y=function(e){return arguments.length?(i="function"===typeof e?e:(0,g.Z)(+e),n=null,l):i},l.y0=function(e){return arguments.length?(i="function"===typeof e?e:(0,g.Z)(+e),l):i},l.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:(0,g.Z)(+e),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(i)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(t).y(i)},l.defined=function(e){return arguments.length?(r="function"===typeof e?e:(0,g.Z)(!!e),l):r},l.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),l):o},l.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),l):a},l}().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve((0,r.Bg)(t)).y0(i(a))}),[t,i,a])},pe=function(e){var t=e.data,i=e.xScale,o=void 0===i?de.xScale:i,s=e.xFormat,l=e.yScale,u=void 0===l?de.yScale:l,h=e.yFormat,c=e.width,f=e.height,d=e.colors,v=void 0===d?de.colors:d,y=e.curve,g=void 0===y?de.curve:y,p=e.areaBaselineValue,x=void 0===p?de.areaBaselineValue:p,m=e.pointColor,b=void 0===m?de.pointColor:m,k=e.pointBorderColor,M=void 0===k?de.pointBorderColor:k,w=e.enableSlices,R=void 0===w?de.enableSlicesTooltip:w,S=(0,r.O_)(s),q=(0,r.O_)(h),C=(0,a.U)(v,"id"),T=(0,r.Fg)(),O=(0,a.Bf)(b,T),j=(0,a.Bf)(M,T),B=(0,n.useState)([]),P=B[0],L=B[1],Z=(0,n.useMemo)((function(){return(0,_.Gi)(t.filter((function(e){return-1===P.indexOf(e.id)})),o,u,c,f)}),[t,P,o,u,c,f]),A=Z.xScale,E=Z.yScale,F=Z.series,W=(0,n.useMemo)((function(){var e=t.map((function(e){return{id:e.id,label:e.id,color:C(e)}})),i=e.map((function(e){return re({},F.find((function(t){return t.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return re({},e,{hidden:!i.find((function(t){return t.id===e.id}))})})).reverse(),series:i}}),[t,F,C]),G=W.legendData,V=W.series,I=(0,n.useCallback)((function(e){L((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),z=function(e){var t=e.series,i=e.getPointColor,r=e.getPointBorderColor,a=e.formatX,o=e.formatY;return(0,n.useMemo)((function(){return t.reduce((function(e,t){return[].concat(e,t.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(n,s){var l={id:t.id+"."+s,index:e.length+s,serieId:t.id,serieColor:t.color,x:n.position.x,y:n.position.y};return l.color=i(t),l.borderColor=r(l),l.data=re({},n.data,{xFormatted:a(n.data.x),yFormatted:o(n.data.y)}),l})))}),[])}),[t,i,r,a,o])}({series:V,getPointColor:O,getPointBorderColor:j,formatX:S,formatY:q}),Y=function(e){var t=e.enableSlices,i=e.points,r=e.width,a=e.height;return(0,n.useMemo)((function(){if(!1===t)return[];if("x"===t){var e=new Map;return i.forEach((function(t){null!==t.data.x&&null!==t.data.y&&(e.has(t.x)?e.get(t.x).push(t):e.set(t.x,[t]))})),Array.from(e.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,i){var n,o=e[0],s=e[1],l=i[t-1],u=i[t+1];return{id:o,x0:n=l?o-(o-l[0])/2:o,x:o,y0:0,y:0,width:u?o-n+(u[0]-o)/2:r-n,height:a,points:s.reverse()}}))}if("y"===t){var n=new Map;return i.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(n.has(e.y)?n.get(e.y).push(e):n.set(e.y,[e]))})),Array.from(n.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,i){var n,o,s=e[0],l=e[1],u=i[t-1],h=i[t+1];return n=u?s-(s-u[0])/2:s,o=h?s-n+(h[0]-s)/2:a-n,{id:s,x0:0,x:0,y0:n,y:s,width:r,height:o,points:l.reverse()}}))}}),[t,i])}({enableSlices:R,points:z,width:c,height:f});return{legendData:G,toggleSerie:I,lineGenerator:ye({curve:g}),areaGenerator:ge({curve:g,yScale:E,areaBaselineValue:x}),getColor:C,series:V,xScale:A,yScale:E,slices:Y,points:z}},xe=function(e){var t=e.areaBlendMode,i=e.areaOpacity,n=e.color,a=e.fill,o=e.path,s=(0,r.tf)(),l=s.animate,u=s.config,h=(0,r.NS)(o),c=(0,R.q_)({color:n,config:u,immediate:!l});return(0,w.jsx)(R.q.path,{d:h,fill:a||c.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:t}})};xe.propTypes={areaBlendMode:r.wM.isRequired,areaOpacity:M().number.isRequired,color:M().string,fill:M().string,path:M().string.isRequired};var me=function(e){var t=e.areaGenerator,i=e.areaOpacity,n=e.areaBlendMode,r=e.lines.slice(0).reverse();return(0,w.jsx)("g",{children:r.map((function(e){return(0,w.jsx)(xe,re({path:t(e.data.map((function(e){return e.position})))},re({areaOpacity:i,areaBlendMode:n},e)),e.id)}))})};me.propTypes={areaGenerator:M().func.isRequired,areaOpacity:M().number.isRequired,areaBlendMode:r.wM.isRequired,lines:M().arrayOf(M().object).isRequired};var be=(0,n.memo)(me),_e=function(e){var t=e.lineGenerator,i=e.points,a=e.color,o=e.thickness,s=(0,n.useMemo)((function(){return t(i)}),[t,i]),l=(0,r.NS)(s);return(0,w.jsx)(R.q.path,{d:l,fill:"none",strokeWidth:o,stroke:a})};_e.propTypes={points:M().arrayOf(M().shape({x:M().oneOfType([M().string,M().number]),y:M().oneOfType([M().string,M().number])})),lineGenerator:M().func.isRequired,color:M().string.isRequired,thickness:M().number.isRequired};var ke=(0,n.memo)(_e),Me=function(e){var t=e.lines,i=e.lineGenerator,n=e.lineWidth;return t.slice(0).reverse().map((function(e){var t=e.id,r=e.data,a=e.color;return(0,w.jsx)(ke,{id:t,points:r.map((function(e){return e.position})),lineGenerator:i,color:a,thickness:n},t)}))};Me.propTypes={lines:M().arrayOf(M().shape({id:M().oneOfType([M().string,M().number]).isRequired,color:M().string.isRequired,data:M().arrayOf(M().shape({data:M().shape({x:M().oneOfType([M().string,M().number,M().instanceOf(Date)]),y:M().oneOfType([M().string,M().number,M().instanceOf(Date)])}).isRequired,position:M().shape({x:M().number,y:M().number}).isRequired})).isRequired})).isRequired,lineWidth:M().number.isRequired,lineGenerator:M().func.isRequired};var we=(0,n.memo)(Me),Re=function(e){var t=e.slice,i=e.axis,r=e.debug,a=e.tooltip,o=e.isCurrent,s=e.setCurrent,u=e.onMouseEnter,h=e.onMouseMove,c=e.onMouseLeave,f=e.onClick,d=(0,l.lL)(),v=d.showTooltipFromEvent,y=d.hideTooltip,g=(0,n.useCallback)((function(e){v((0,n.createElement)(a,{slice:t,axis:i}),e,"right"),s(t),u&&u(t,e)}),[v,a,t,u]),p=(0,n.useCallback)((function(e){v((0,n.createElement)(a,{slice:t,axis:i}),e,"right"),h&&h(t,e)}),[v,a,t,h]),x=(0,n.useCallback)((function(e){y(),s(null),c&&c(t,e)}),[y,t,c]),m=(0,n.useCallback)((function(e){f&&f(t,e)}),[t,f]);return(0,w.jsx)("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:o&&r?.35:0,onMouseEnter:g,onMouseMove:p,onMouseLeave:x,onClick:m,"data-testid":"slice-"+t.id})};Re.propTypes={slice:M().object.isRequired,axis:M().oneOf(["x","y"]).isRequired,debug:M().bool.isRequired,height:M().number.isRequired,tooltip:M().oneOfType([M().func,M().object]),isCurrent:M().bool.isRequired,setCurrent:M().func.isRequired,onMouseEnter:M().func,onMouseMove:M().func,onMouseLeave:M().func,onClick:M().func};var Se=(0,n.memo)(Re),qe=function(e){var t=e.slices,i=e.axis,n=e.debug,r=e.height,a=e.tooltip,o=e.current,s=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,h=e.onMouseLeave,c=e.onClick;return t.map((function(e){return(0,w.jsx)(Se,{slice:e,axis:i,debug:n,height:r,tooltip:a,setCurrent:s,isCurrent:null!==o&&o.id===e.id,onMouseEnter:l,onMouseMove:u,onMouseLeave:h,onClick:c},e.id)}))};qe.propTypes={slices:M().arrayOf(M().shape({id:M().oneOfType([M().number,M().string,M().instanceOf(Date)]).isRequired,x:M().number.isRequired,y:M().number.isRequired,points:M().arrayOf(M().object).isRequired})).isRequired,axis:M().oneOf(["x","y"]).isRequired,debug:M().bool.isRequired,height:M().number.isRequired,tooltip:M().oneOfType([M().func,M().object]).isRequired,current:M().object,setCurrent:M().func.isRequired,onMouseEnter:M().func,onMouseMove:M().func,onMouseLeave:M().func,onClick:M().func};var Ce=(0,n.memo)(qe),Te=function(e){var t=e.points,i=e.symbol,n=e.size,a=e.borderWidth,o=e.enableLabel,s=e.label,l=e.labelYOffset,u=(0,r.Fg)(),h=(0,r.ji)(s),c=t.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:o?h(e.data):null}}));return(0,w.jsx)("g",{children:c.map((function(e){return(0,w.jsx)(r.F_,{x:e.x,y:e.y,datum:e.datum,symbol:i,size:n,color:e.fill,borderWidth:a,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:u},e.id)}))})};Te.propTypes={points:M().arrayOf(M().object),symbol:M().func,size:M().number.isRequired,color:M().func.isRequired,borderWidth:M().number.isRequired,borderColor:M().func.isRequired,enableLabel:M().bool.isRequired,label:M().oneOfType([M().string,M().func]).isRequired,labelYOffset:M().number};var Oe=(0,n.memo)(Te),je=function(e){var t=e.points,i=e.width,r=e.height,a=e.margin,o=e.setCurrent,s=e.onMouseEnter,u=e.onMouseMove,h=e.onMouseLeave,c=e.onClick,f=e.tooltip,d=e.debug,v=(0,l.lL)(),y=v.showTooltipAt,g=v.hideTooltip,p=(0,n.useCallback)((function(e,t){y((0,n.createElement)(f,{point:e}),[e.x+a.left,e.y+a.top],"top"),o(e),s&&s(e,t)}),[o,y,f,s,a]),x=(0,n.useCallback)((function(e,t){y((0,n.createElement)(f,{point:e}),[e.x+a.left,e.y+a.top],"top"),o(e),u&&u(e,t)}),[o,y,f,u]),m=(0,n.useCallback)((function(e,t){g(),o(null),h&&h(e,t)}),[g,o,h]),b=(0,n.useCallback)((function(e,t){c&&c(e,t)}),[c]);return(0,w.jsx)(ne,{nodes:t,width:i,height:r,onMouseEnter:p,onMouseMove:x,onMouseLeave:m,onClick:b,debug:d})};je.propTypes={points:M().arrayOf(M().object).isRequired,width:M().number.isRequired,height:M().number.isRequired,margin:M().object.isRequired,setCurrent:M().func.isRequired,onMouseEnter:M().func,onMouseMove:M().func,onMouseLeave:M().func,onClick:M().func,tooltip:M().oneOfType([M().func,M().object]).isRequired,debug:M().bool.isRequired};var Be=(0,n.memo)(je),Pe=function(e){var t=e.data,i=e.xScale,u=e.xFormat,h=e.yScale,c=e.yFormat,f=e.layers,d=e.curve,v=e.areaBaselineValue,y=e.colors,g=e.margin,p=e.width,x=e.height,m=e.axisTop,b=e.axisRight,_=e.axisBottom,k=e.axisLeft,M=e.enableGridX,R=e.enableGridY,S=e.gridXValues,q=e.gridYValues,C=e.lineWidth,T=e.enableArea,O=e.areaOpacity,j=e.areaBlendMode,B=e.enablePoints,P=e.pointSymbol,L=e.pointSize,Z=e.pointColor,A=e.pointBorderWidth,E=e.pointBorderColor,F=e.enablePointLabel,W=e.pointLabel,G=e.pointLabelYOffset,V=e.defs,I=e.fill,z=e.markers,Y=e.legends,D=e.isInteractive,H=e.useMesh,U=e.debugMesh,X=e.onMouseEnter,K=e.onMouseMove,N=e.onMouseLeave,Q=e.onClick,$=e.tooltip,J=e.enableSlices,ee=e.debugSlices,te=e.sliceTooltip,ie=e.enableCrosshair,ne=e.crosshairType,ae=e.role,oe=(0,r.Bs)(p,x,g),se=oe.margin,le=oe.innerWidth,ue=oe.innerHeight,he=oe.outerWidth,ce=oe.outerHeight,fe=pe({data:t,xScale:i,xFormat:u,yScale:h,yFormat:c,width:le,height:ue,colors:y,curve:d,areaBaselineValue:v,pointColor:Z,pointBorderColor:E,enableSlices:J}),de=fe.legendData,ve=fe.toggleSerie,ye=fe.lineGenerator,ge=fe.areaGenerator,xe=fe.series,me=fe.xScale,_e=fe.yScale,ke=fe.slices,Me=fe.points,Re=(0,r.Fg)(),Se=(0,a.Bf)(Z,Re),qe=(0,a.Bf)(E,Re),Te=(0,n.useState)(null),je=Te[0],Pe=Te[1],Le=(0,n.useState)(null),Ze=Le[0],Ae=Le[1],Ee={grid:(0,w.jsx)(o.rj,{theme:Re,width:le,height:ue,xScale:M?me:null,yScale:R?_e:null,xValues:S,yValues:q},"grid"),markers:(0,w.jsx)(r.TL,{markers:z,width:le,height:ue,xScale:me,yScale:_e,theme:Re},"markers"),axes:(0,w.jsx)(o.dk,{xScale:me,yScale:_e,width:le,height:ue,theme:Re,top:m,right:b,bottom:_,left:k},"axes"),areas:null,lines:(0,w.jsx)(we,{lines:xe,lineGenerator:ye,lineWidth:C},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Y.map((function(e,t){return(0,w.jsx)(s.$6,re({},e,{containerWidth:le,containerHeight:ue,data:e.data||de,theme:Re,toggleSerie:e.toggleSerie?ve:void 0}),"legend."+t)}))},Fe=(0,r.yU)(V,xe,I);return T&&(Ee.areas=(0,w.jsx)(be,{areaGenerator:ge,areaOpacity:O,areaBlendMode:j,lines:xe},"areas")),D&&!1!==J&&(Ee.slices=(0,w.jsx)(Ce,{slices:ke,axis:J,debug:ee,height:ue,tooltip:te,current:Ze,setCurrent:Ae,onMouseEnter:X,onMouseMove:K,onMouseLeave:N,onClick:Q},"slices")),B&&(Ee.points=(0,w.jsx)(Oe,{points:Me,symbol:P,size:L,color:Se,borderWidth:A,borderColor:qe,enableLabel:F,label:W,labelYOffset:G},"points")),D&&ie&&(null!==je&&(Ee.crosshair=(0,w.jsx)(l.YS,{width:le,height:ue,x:je.x,y:je.y,type:ne},"crosshair")),null!==Ze&&(Ee.crosshair=(0,w.jsx)(l.YS,{width:le,height:ue,x:Ze.x,y:Ze.y,type:J},"crosshair"))),D&&H&&!1===J&&(Ee.mesh=(0,w.jsx)(Be,{points:Me,width:le,height:ue,margin:se,current:je,setCurrent:Pe,onMouseEnter:X,onMouseMove:K,onMouseLeave:N,onClick:Q,tooltip:$,debug:U},"mesh")),(0,w.jsx)(r.tM,{defs:Fe,width:he,height:ce,margin:se,role:ae,children:f.map((function(t,i){return"function"==typeof t?(0,w.jsx)(n.Fragment,{children:t(re({},e,{innerWidth:le,innerHeight:ue,series:xe,slices:ke,points:Me,xScale:me,yScale:_e,lineGenerator:ye,areaGenerator:ge,currentPoint:je,setCurrentPoint:Pe,currentSlice:Ze,setCurrentSlice:Ae}))},i):Ee[t]}))})};Pe.propTypes=he,Pe.defaultProps=de;var Le=(0,r.li)(Pe),Ze=function(e){return(0,w.jsx)(r.d,{children:function(t){var i=t.width,n=t.height;return(0,w.jsx)(Le,re({width:i,height:n},e))}})},Ae=function(e){var t=e.width,i=e.height,a=e.margin,u=e.pixelRatio,h=e.data,c=e.xScale,f=e.xFormat,d=e.yScale,v=e.yFormat,y=e.curve,g=e.layers,p=e.colors,x=e.lineWidth,m=e.enableArea,b=e.areaBaselineValue,_=e.areaOpacity,k=e.enablePoints,M=e.pointSize,R=e.pointColor,S=e.pointBorderWidth,q=e.pointBorderColor,C=e.enableGridX,T=e.gridXValues,O=e.enableGridY,j=e.gridYValues,B=e.axisTop,P=e.axisRight,L=e.axisBottom,Z=e.axisLeft,A=e.legends,E=e.isInteractive,F=e.debugMesh,W=e.onMouseLeave,G=e.onClick,V=e.tooltip,I=e.canvasRef,z=(0,n.useRef)(null),Y=(0,r.Bs)(t,i,a),D=Y.margin,H=Y.innerWidth,U=Y.innerHeight,X=Y.outerWidth,K=Y.outerHeight,N=(0,r.Fg)(),Q=(0,n.useState)(null),$=Q[0],J=Q[1],ee=pe({data:h,xScale:c,xFormat:f,yScale:d,yFormat:v,width:H,height:U,colors:p,curve:y,areaBaselineValue:b,pointColor:R,pointBorderColor:q}),te=ee.lineGenerator,ne=ee.areaGenerator,ae=ee.series,oe=ee.xScale,se=ee.yScale,le=ee.points,ue=ie({points:le,width:H,height:U,debug:F}),he=ue.delaunay,ce=ue.voronoi;(0,n.useEffect)((function(){I&&(I.current=z.current),z.current.width=X*u,z.current.height=K*u;var e=z.current.getContext("2d");e.scale(u,u),e.fillStyle=N.background,e.fillRect(0,0,X,K),e.translate(D.left,D.top),g.forEach((function(t){if("function"==typeof t&&t({ctx:e,innerWidth:H,innerHeight:U,series:ae,points:le,xScale:oe,yScale:se,lineWidth:x,lineGenerator:te,areaGenerator:ne,currentPoint:$,setCurrentPoint:J}),"grid"===t&&N.grid.line.strokeWidth>0&&(e.lineWidth=N.grid.line.strokeWidth,e.strokeStyle=N.grid.line.stroke,C&&(0,o.FA)(e,{width:H,height:U,scale:oe,axis:"x",values:T}),O&&(0,o.FA)(e,{width:H,height:U,scale:se,axis:"y",values:j})),"axes"===t&&(0,o.DZ)(e,{xScale:oe,yScale:se,width:H,height:U,top:B,right:P,bottom:L,left:Z,theme:N}),"areas"===t&&!0===m&&(e.save(),e.globalAlpha=_,ne.context(e),ae.forEach((function(t){e.fillStyle=t.color,e.beginPath(),ne(t.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===t&&(te.context(e),ae.forEach((function(t){e.strokeStyle=t.color,e.lineWidth=x,e.beginPath(),te(t.data.map((function(e){return e.position}))),e.stroke()}))),"points"===t&&!0===k&&M>0&&le.forEach((function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,M/2,0,2*Math.PI),e.fill(),S>0&&(e.strokeStyle=t.borderColor,e.lineWidth=S,e.stroke())})),"mesh"===t&&!0===F&&(function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()}(e,ce),$&&function(e,t,i){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(i,e),e.fillStyle="red",e.fill(),e.restore()}(e,ce,$.index)),"legends"===t){var i=ae.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();A.forEach((function(t){(0,s.as)(e,re({},t,{data:t.data||i,containerWidth:H,containerHeight:U,theme:N}))}))}}))}),[z,X,K,g,N,te,ae,oe,se,C,T,O,j,B,P,L,Z,A,le,k,M,$]);var fe=(0,n.useCallback)((function(e){var t=(0,r.P6)(z.current,e),i=t[0],n=t[1];if(!(0,r.zn)(D.left,D.top,H,U,i,n))return null;var a=he.find(i-D.left,n-D.top);return le[a]}),[z,D,H,U,he]),de=(0,l.lL)(),ve=de.showTooltipFromEvent,ye=de.hideTooltip,ge=(0,n.useCallback)((function(e){var t=fe(e);J(t),t?ve((0,n.createElement)(V,{point:t}),e):ye()}),[fe,J,ve,ye,V]),xe=(0,n.useCallback)((function(e){ye(),J(null),$&&W&&W($,e)}),[ye,J,W]),me=(0,n.useCallback)((function(e){if(G){var t=fe(e);t&&G(t,e)}}),[fe,G]);return(0,w.jsx)("canvas",{ref:z,width:X*u,height:K*u,style:{width:X,height:K,cursor:E?"auto":"normal"},onMouseEnter:E?ge:void 0,onMouseMove:E?ge:void 0,onMouseLeave:E?xe:void 0,onClick:E?me:void 0})};Ae.propTypes=ce,Ae.defaultProps=ve;var Ee=(0,r.li)(Ae),Fe=(0,n.forwardRef)((function(e,t){return(0,w.jsx)(Ee,re({},e,{canvasRef:t}))}));(0,n.forwardRef)((function(e,t){return(0,w.jsx)(r.d,{children:function(i){var n=i.width,r=i.height;return(0,w.jsx)(Fe,re({width:n,height:r},e,{ref:t}))}})}))}}]);
//# sourceMappingURL=311.27e67b3e.chunk.js.map