"use strict";(self.webpackChunkfitify_final=self.webpackChunkfitify_final||[]).push([[839],{80839:function(e,t,n){n.r(t);var r=n(74165),i=n(15861),a=n(29439),s=n(72791),c=n(64750),o=n(90575),l=n(38217),d=n(52720),u=n(74332),h=n(49704),p=n(13967),f=n(64554),x=n(20890),m=n(90493),v=n(84852),y=n(49900),Z=n(37084),g=n(11607),b=n(88249),j=n(80184);t.default=function(){var e=(0,p.Z)(),t=(0,g.TV)(e.palette.mode),n=(0,s.useState)([]),S=(0,a.Z)(n,2),k=(S[0],S[1]),w=(0,s.useState)(Array),C=(0,a.Z)(w,2),T=C[0],M=C[1];(0,s.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.h.get("/get-events.php");case 3:t=e.sent,n=t.data.map((function(e){return{id:e.id,title:"[".concat(e.type,"] ").concat(e.text),date:e.date}})),M(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();("coach"!==sessionStorage.getItem("role").toString().toLowerCase()||sessionStorage.getItem("sus_id"))&&e()}),[]);return(0,j.jsxs)(f.Z,{m:"20px",children:[(0,j.jsx)(Z.Z,{title:"Kalender",subtitle:"Termine eintragen"}),(0,j.jsxs)(f.Z,{display:"flex",justifyContent:"space-between",children:[(0,j.jsxs)(f.Z,{flex:"1 1 20%",backgroundColor:t.primary[400],p:"15px",borderRadius:"4px",children:[(0,j.jsx)(x.Z,{variant:"h5",children:"Anstehende Termine"}),(0,j.jsx)(m.Z,{children:T.map((function(e){return(0,j.jsx)(v.ZP,{sx:{backgroundColor:t.greenAccent[500],margin:"10px 0",borderRadius:"2px"},children:(0,j.jsx)(y.Z,{primary:e.title,secondary:(0,j.jsx)(x.Z,{children:(0,c.p6)(e.date,{year:"numeric",month:"short",day:"numeric",locale:"CH"})})})},e.id)}))})]}),(0,j.jsx)(f.Z,{flex:"1 1 100%",ml:"15px",children:(0,j.jsx)(o.Z,{height:"75vh",plugins:[l.Z,d.Z,u.ZP,h.Z],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listYear"},buttonText:{today:"Heute",month:"Monat",week:"Woche",day:"Tag",list:"Liste"},initialView:"dayGridMonth",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,select:function(e){var t=prompt("Bitte Termin eingeben"),n=e.view.calendar;n.unselect(),t&&n.addEvent({id:"".concat(e.dateStr,"-").concat(t),title:t,start:e.startStr,end:e.endStr,allDay:e.allDay})},eventClick:function(e){window.confirm("Sind Sie sich sicher, dass Sie diesen Termin l\xf6schen m\xf6chten? '".concat(e.event.title,"'"))&&e.event.remove()},eventsSet:function(e){return k(e)},initialEvents:T})})]})]})}}}]);
//# sourceMappingURL=839.d8a35246.chunk.js.map